apply plugin: 'groovy'
apply plugin: 'eclipse'

buildDir = 'target'
group = 'org.bura.mongoapp'

sourceCompatibility = 1.7
targetCompatibility = 1.7

test.systemProperty('java.awt.headless', 'true')

ext.groovyVersion = '2.2.0-beta-2'
ext.gmongoVersion = '1.2'
ext.embedMongoVersion = '1.40'
ext.spockVersion = '0.7-groovy-2.0'

dependencies {
	compile "org.codehaus.groovy:groovy-all:${groovyVersion}"
	compile "com.gmongo:gmongo:${gmongoVersion}"
	
	testCompile "de.flapdoodle.embed:de.flapdoodle.embed.mongo:${embedMongoVersion}"
	testCompile "org.spockframework:spock-core:${spockVersion}"
}

test {
	maxParallelForks = 1 // Only one instance of MongoDB can be running at the same time.
	include '**/*Test.*'
}

repositories {
	mavenCentral()
}

